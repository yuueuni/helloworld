# part1-2
: 데이터 모델과 질의 언어

## 데이터 모델
- 대표적인 관계형 모델을 기반으로 한 SQL
  - 데이터는 관계(Relation)로 구성되고 각 관계는 순서 없는 튜플(Tuple) 모음
- 1980년대: 관계형 데이터베이스 관리 시스템 (RDBS) 대부분 선택. 25-30년 정도 지속됨
  - 1960-70년대 트랜잭션, 일괄 처리로 수행된 비즈니스 데이터 처리로 관계형 데이터베이스 나옴
- 1970-80년대: 네트워크 모델과 계층 모델이 주요 대안이었지만 관계형 모델이 우위 차지함
- 1980-90년대: 객체 데이터 베이스 등장했지만 적게 채택됨

## NoSQL (Not Only SQL)
- 비관계형 데이터베이스
- 대규모 데이터셋이나 매우 높은 처리량 달성을 관계형 데이터베이스보다 쉽게 할 수 있는 뛰어난 확장성
- NoSQL 데이터베이스는 관계형 데이터베이스보다 더 높은 가용성과 확장성을 제공

## 객체 관계형 불일치
- 애플리케이션 코드와 데이터베이스 모델 객체 사이 전환 계층이 필요하며, 이러한 모델 사이의 분리를 임피던스 불일치라 부름
- 객체 관계형 모델(ORM) 프레임워크: ActiveRecord, Hibernate

- 이력서와 같은 문서는 json 표현에 적합하며, 문서 지향 데이터베이스는 json 데이터 모델 지원
  - json 모델이 애플리케이션 코드와 저장 계층 간 임피던스 불일치를 줄인다 생각했지만, json은 데이터 부호화 형식으로서 문제를 가지고 있음

---
- 다대다, 다대일 관계
- 정규화
---

## 네트워크 모델
- 코다실(CODASYL)이라 불리는 위원회에서 표준화했고,코다실 모델이라고도 부름
- 계층 모델을 일반화하며, 네트워크 모델의 레코드는 다중 부모가 있음
  - 계층 모델의 트리 구조의 레코드는 하나의 부모만 가짐
- 레코드 간의 관계를 표현하기 위해 포인터를 사용
- 다대일, 다대다 관계 모델링 가능
- 접근 경로: 레코드 간의 관계를 탐색하는 방법으로 최상위 레코드에서부터 연속된 연결 경로를 따르는 방법
  - 수정이 어려움

## 관계형 모델
- 관계형 데이터베이스의 기본 구조
- 관계는 단순히 튜플(로우) 컬렉션이 전부
- 임의 조건과 일치하는 테이블의 일부 또는 모든 로우를 선택해서 읽을 수 있고, 일부 컬럼을 키로 지정해 일치하는 특정 로우를 읽을 수 있음
- 질의 최적화기(Query Optimizer)가 쿼리를 실행할 때 최적의 실행 계획을 자동으로 선택

## 문서 데이터베이스 vs 관계형 데이터베이스
- 다대일, 다대다 관계 표현은 크게 다르지 않음. 관련 항목은 둘 다 고유 식별차로 참조
- 관계형 모델은 외래키, 문서 모델은 문서 참조

- 문서 모델의 스키마 유연성
- 질의를 위한 데이터 지역성

- 적절히 혼합하여 사용

- 데이터가 문서와 비슷한 구조라면 문서 모델 사용하는게 좋지만, 샤딩 기법 사용시 복잡한 애플리케이션 코드를 발생시킴
  - shredding (샤딩): 문서와 비슷한 구조를 여러 테이블로 나누어 찢는 기법
  - 문서 데이터베이스의 미흡한 조인 지원으로 문제가 될 수도 있음
  - 다대다 관계 사용시 문서 모델 굳이?
    - 비정규화로 조인 줄이기 가능하지만 코드는 데이터 일관성을 위해 추가 작업 해야됨
    - 조인을 코드로 구현해도 되지만 복잡도 증가하며 속도 느려짐

## 데이터 지역성
- 자주 전체 문서에 접근해야 할 때 저장소 지역성(storage locality)을 활용하면 성능 이점이 있음
  - 지역성 이점은 한 번에 해당 문서의 많은 부분을 필요로 하는 경우에만 적용됨
  - 데이터베이스는 문서의 한 부분만 접근해도 전체 문서를 적재해야 하기에 큰 문서는 낭비일 수 있음

- 오라클: 다중 테이블 색인 클러스터 테이블 기능을 사용

## 데이터 질의 언어
- SQL: 데이터베이스에서 데이터를 읽고 쓰는 데 사용하는 표준 질의 언어 (선언형)
- IMS, 코다실: 네트워크 모델 데이터베이스에서 사용하는 질의 언어 (명령형)

### 맵리듀스 질의 (MapReduce Query)
- 맵리듀스: 많은 컴퓨터에서 대량의 데이터를 처리하기 위한 프로그래밍 모델
- 많은 문서를 대상으로 읽기 전용(read-only) 질의를 수행할 때 유용

## 그래프형 데이터 모델
- 정점과 간선으로 구성

## etc
- 사이퍼 질의 언어
- SQL의 그래프 질의
- 트리플 저장소와 스파클
- 시맨틱 웹
- RDF 데이터 모델
- 스파클 질의 언어
